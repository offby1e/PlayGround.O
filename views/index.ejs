<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>offby1e - Access Granted</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="Assets/stylesheets/styles.css">

    <link rel="icon" href="/Assets/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/Assets/images/favicon.png" type="image/png">
</head>
<body class="bg-[#0c0c0c] text-gray-300 leading-relaxed overflow-x-hidden">

    <div id="main-container" class="min-h-screen w-screen relative flex flex-col items-center justify-center p-4">
        <div id="terminal-container" class="absolute inset-0 flex flex-col justify-center items-center p-4 z-20">
            <div class="flex flex-col items-center justify-center mb-2">
                <svg id="intro-logo" width="24" height="24" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 md:w-20 md:h-20 mb-6 cursor-pointer">
                    <circle cx="50" cy="50" r="50" fill="white"/>
                    <rect x="0" y="42.5" width="100" height="15" transform="rotate(-45 50 50)" fill="black"/>
                    <circle cx="95" cy="5" r="5" fill="var(--brand-blue)"/>
                </svg>
                <h1 class="logo-text text-4xl md:text-6xl font-bold text-white uppercase">
                    offby1e<span class="text-[--brand-blue] text-5xl md:text-6xl font-medium">.</span>
                </h1>
            </div>
            <p class="text-sm md:text-base text-gray-400 mb-4 text-center">
                Off By One Error
            </p>
            <div class="w-full max-w-lg mx-auto bg-[#1a1a1a] p-4 rounded-lg border border-gray-600">
                <span class="text-gray-400">user@offby1e:~$</span>
                <span id="typed-text" class="text-white"></span>
                <input type="text" id="terminal-input" autofocus class="w-0">
            </div>
        </div>
    </div>
    
    <div id="message-box" class="message-box">
        <p id="message-text"></p>
        <button id="close-message" class="mt-4 px-4 py-2 bg-[--brand-blue] text-white rounded-md">OK</button>
    </div>

    <script>
        const terminalInput = document.getElementById('terminal-input');
        const typedTextSpan = document.getElementById('typed-text');
        const introLogo = document.getElementById('intro-logo');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');
        const closeMessageBtn = document.getElementById('close-message');
        
        let fullText = 'authenticating...';
        let charIndex = 0;

        function typeEffect() {
            if (charIndex < fullText.length) {
                typedTextSpan.textContent += fullText.charAt(charIndex);
                charIndex++;
                setTimeout(typeEffect, 100);
            } else {
                terminalInput.focus();
                typedTextSpan.classList.add('cursor');
            }
        }

        function showMessage(msg) {
            messageText.textContent = msg;
            messageBox.classList.add('show');
        }

        closeMessageBtn.addEventListener('click', () => {
            messageBox.classList.remove('show');
            terminalInput.focus();
        });

        terminalInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const command = e.target.value.toLowerCase().trim();
                if (command === 'access') {
                    window.location.href = '/home';
                } else {
                    showMessage('Command not recognized. Please type "access" to proceed.');
                    e.target.value = '';
                }
            }
        });

        introLogo.addEventListener('click', () => {
            introLogo.classList.add('logo-rotate');
            setTimeout(() => {
                introLogo.classList.remove('logo-rotate');
            }, 800);
            showMessage("Dial unlocked. Type 'access' to enter the system.");
        });
        
        window.onload = function() {
            typeEffect(); 
        };
    </script>
</body>
</html>